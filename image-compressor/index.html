<!DOCTYPE html>
<html>

<head>
    <title>Image Compressor</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h2>Image Compressor</h2>
    <input type="file" id="upload" accept="image/*">
    <br><br>
    <canvas id="canvas"></canvas>
    <br>
    <button onclick="downloadImage()">Download Compressed</button>

    <script>
        let canvas = document.getElementById("canvas");
        let ctx = canvas.getContext("2d");
        let img = new Image();

        document.getElementById("upload").addEventListener("change", (e) => {
            let file = e.target.files[0];
            let reader = new FileReader();
            reader.onload = function(evt) {
                img.src = evt.target.result;
            };
            reader.readAsDataURL(file);
        });

        img.onload = function() {
            canvas.width = img.width / 2; // compress to half
            canvas.height = img.height / 2;
            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
        };

        function downloadImage() {
            let link = document.createElement("a");
            link.download = "compressed.png";
            link.href = canvas.toDataURL("image/png", 0.7); // quality 70%
            link.click();
        }
    </script>
</body>

</html>
